<strong>Focusgroups</strong><br>
<% cats = publications.joins(:focusgroups)
            .select("focusgroups.description, count(focusgroups.id) as count")
            .group("focusgroups.id").order("count(focusgroups.id) DESC")
            .limit(5) %>
<%= render partial: 'shared/category_counts', locals: { categories: cats } %>

<br><strong>Fields</strong><br>
<% cats = publications.joins(:fields)
            .select("fields.description, count(fields.id) as count")
            .group("fields.id").order("count(fields.id) DESC").limit(5) %>
<%= render partial: 'shared/category_counts', locals: { categories: cats } %>

<br><strong>Platforms</strong><br>
<% cats = publications.joins(:platforms)
            .select("platforms.description, count(platforms.id) as count")
            .group("platforms.id").order("count(platforms.id) DESC")
            .limit(5) %>
<%= render partial: 'shared/category_counts', locals: { categories: cats } %>